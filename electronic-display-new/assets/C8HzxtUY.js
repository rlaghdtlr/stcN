import{f as E,r as h,y as w,z as N,k as j,E as D,o as n,c as a,A as v,h as e,x as _,a as t,V,_ as L,d4 as G,F as q,v as F,b as x,w as T,t as H,q as P,b3 as A,cT as z,B as J,s as R,C as K,D as Q,e as Y,d5 as Z}from"./DR6o4iPn.js";import{u as ee}from"./nutVgYJ5.js";import{_ as te}from"./CnqrR3sj.js";const se=["src"],ne=["src"],ae=E({__name:"CustomMarquee",props:{speed:{default:100},play:{type:Boolean,default:!1},backgroundImage:{default:void 0},backgroundVideo:{default:void 0},lineIndex:{default:0},totalLines:{default:1},containerWidth:{default:800},containerHeight:{default:200}},emits:["text-start","text-end"],setup(b,{emit:s}){const o=b,p=s,r=h(null),f=h(null),y=h(null),g=h(null),l=h(0),m=h(!1),d=h(0),C=h(!1);h(!1);const M=w(()=>({width:`${o.containerWidth*o.totalLines}px`,maxWidth:"none",top:0,left:`${-o.lineIndex*o.containerWidth}px`})),k=()=>{var i;if(!o.play||!r.value||!f.value)return;l.value-=o.speed/60,r.value.offsetWidth;const c=((i=y.value)==null?void 0:i.offsetWidth)??0;-l.value>=0&&!C.value&&(p("text-start"),C.value=!0),-l.value>=c&&(l.value=0),d.value=window.requestAnimationFrame(k)};return N(()=>o.play,c=>{var i;c?(m.value=!0,l.value=((i=r.value)==null?void 0:i.offsetWidth)??0,k()):d.value&&(cancelAnimationFrame(d.value),m.value=!1)},{immediate:!0}),j(()=>{var c;o.play&&(l.value=((c=r.value)==null?void 0:c.offsetWidth)??0,k())}),D(()=>{window.cancelAnimationFrame(d.value)}),(c,i)=>(n(),a("div",{ref_key:"container",ref:r,class:"custom-marquee"},[c.backgroundImage?(n(),a("img",{key:0,src:c.backgroundImage,class:"marquee-background",style:v(e(M)),alt:"마퀴 배경 이미지"},null,12,se)):_("",!0),c.backgroundVideo?(n(),a("video",{key:1,src:c.backgroundVideo,autoplay:"",muted:"",loop:"",class:"marquee-background",style:v(e(M)),alt:"마퀴 배경 비디오"},null,12,ne)):_("",!0),t("div",{ref_key:"content",ref:f,class:"marquee-content",style:v({transform:`translateX(${e(l)}px)`,transition:e(m)?"none":"transform 0.3s ease"})},[t("div",{ref_key:"originalContent",ref:y,class:"original-content"},[V(c.$slots,"default",{},void 0,!0)],512),t("div",{ref_key:"cloneContent",ref:g,class:"clone-content"},[V(c.$slots,"default",{},void 0,!0)],512)],4)],512))}}),oe=Object.assign(L(ae,[["__scopeId","data-v-001717d0"]]),{__name:"UICustomMarquee"}),O=G("/stcN.png"),le={key:0},re={key:1},ie={key:2,class:"time-display"},ce=["innerHTML"],ue={key:4,src:O,alt:"stcN 로고",style:{height:"4em"}},de={key:5,class:"image-container"},_e=["src","alt"],fe={key:6,class:"time-display"},me=["innerHTML"],pe={key:8,src:O,alt:"stcN 로고",style:{height:"4em",padding:"0 20px"}},ve={key:9,class:"image-container"},ge=["src","alt"],he=E({__name:"MultifulMarqueeScreen",setup(b){const s=ee(),{screenWidth:o,screenHeight:p,speed:r,numberOfLines:f,marqueePadding:y,now:g,controls:l,content:m,isPlaying:d,backgroundImage:C,backgroundVideo:M,images:k}=s,c=w(()=>{const u=Math.ceil(k.value.length/2);return k.value.slice(0,u)}),i=w(()=>{const u=Math.ceil(k.value.length/2);return k.value.slice(u)}),S=u=>({opacity:d.value[u-1]?1:0,border:l.textBoxBorderChecked?"1px solid red":"none"}),W=u=>{u===f.value?d.value[u-2]=!0:u===1?(s.updateLoopCount(),d.value[f.value-1]||(d.value[f.value-1]=!0)):d.value[u-2]=!0},U=u=>{d.value[u-1]=!1,u===f.value&&setTimeout(()=>{d.value[f.value-1]=!0},50)};return(u,B)=>{const X=oe;return n(),a("div",{class:"screen",style:v({width:`${e(o)}px`,height:`${e(p)}px`})},[(n(!0),a(q,null,F(e(f),I=>(n(),a("div",{key:I,class:"marquee-line",style:v({height:`${100/e(f)}%`,padding:`${e(y)}px`})},[x(X,{speed:e(r),play:e(d)[I-1],"background-image":e(C),"background-video":e(M),"line-index":I-1,"total-lines":e(f),"container-width":e(o),"container-height":e(p),onTextStart:$=>W(I),onTextEnd:$=>U(I)},{default:T(()=>[t("div",{class:"text-content",style:v(S(I))},[e(l).longTextChecked?(n(),a("p",le,H(e(m).longText),1)):_("",!0),e(l).shortTextChecked?(n(),a("p",re,H(e(m).shortText),1)):_("",!0),e(l).timeTextChecked?(n(),a("p",ie,H(e(g)),1)):_("",!0),e(l).htmlTextChecked?(n(),a("p",{key:3,innerHTML:e(m).htmlText},null,8,ce)):_("",!0),e(l).logoChecked?(n(),a("img",ue)):_("",!0),e(l).imageChecked?(n(),a("div",de,[(n(!0),a(q,null,F(e(c),$=>(n(),a("img",{key:$.id,src:$.src,alt:$.alt,class:"sample-image"},null,8,_e))),128))])):_("",!0),e(l).timeTextChecked?(n(),a("p",fe,H(e(g)),1)):_("",!0),e(l).htmlTextChecked?(n(),a("p",{key:7,innerHTML:e(m).htmlText},null,8,me)):_("",!0),e(l).logoChecked?(n(),a("img",pe)):_("",!0),e(l).imageChecked?(n(),a("div",ve,[(n(!0),a(q,null,F(e(i),$=>(n(),a("img",{key:$.id,src:$.src,alt:$.alt,class:"sample-image"},null,8,ge))),128))])):_("",!0)],4)]),_:2},1032,["speed","play","background-image","background-video","line-index","total-lines","container-width","container-height","onTextStart","onTextEnd"])],4))),128))],4)}}}),ye=Object.assign(L(he,[["__scopeId","data-v-41a78de2"]]),{__name:"MultifulMarqueeScreen"}),ke={key:0,class:"image-container"},xe=["src"],$e={key:1,class:"video-container"},Te=["src","type"],be=["innerHTML"],Ce=["innerHTML"],Me=E({__name:"TheScreenOut",setup(b){const{currentUrl:s,currentFile:o,contentStyle:p,animationClass:r,isMultifulMarqueeScreen:f}=K(),{currentText:y,textBoxStyle:g,calculateMarqueeProps:l}=Q(),m=h(!0);N(y,i=>{console.log("currentText changed:",i)});const d=w(()=>p.value?{width:p.value.width,height:p.value.height}:{}),C=()=>{m.value=!1},M=i=>{console.error("Media load error:",i),m.value=!1};N(()=>s.value,()=>{m.value=!0});const k=h(900),c=w(()=>y.value?l({style:y.value.textBoxStyle,containerWidth:k.value}):{});return j(()=>{const i=document.querySelector(".screen-out");i&&(k.value=i.clientWidth);const S=new ResizeObserver(W=>{});i&&S.observe(i),D(()=>{S.disconnect()})}),(i,S)=>{var u,B;const W=ye,U=te;return n(),a("div",{ref:"container",class:"screen-out",style:v(e(d))},[t("div",{class:R(["content-wrapper",e(r)])},[e(f)?(n(),P(W,{key:0})):(n(),a(q,{key:1},[e(o)?(n(),a(q,{key:0},[(u=e(o).type)!=null&&u.startsWith("image")?(n(),a("div",ke,[A((n(),a("img",{key:e(s),src:e(s),style:v(e(p)),alt:"선택된 이미지",onLoad:C,onError:M},null,44,xe)),[[z,!e(m)]])])):(B=e(o).type)!=null&&B.startsWith("video")?(n(),a("div",$e,[A((n(),a("video",{key:e(s),style:v(e(p)),autoplay:"",muted:"",loop:"",onLoadeddata:C,onError:M},[t("source",{src:e(s),type:e(o).type},null,8,Te)],36)),[[z,!e(m)]])])):_("",!0)],64)):_("",!0),e(y)?(n(),a("div",{key:1,class:"text-container",style:v({justifyContent:e(g).alignItems})},[e(g).scrollEffect==="marquee"?(n(),P(U,J({key:0},e(c),{class:"marquee-wrapper",style:{...e(g),color:"white"}}),{default:T(()=>[t("div",{class:"text-content",style:v({padding:`${e(g).padding}px 0px`}),innerHTML:e(y).textMessage},null,12,be)]),_:1},16,["style"])):(n(),a("div",{key:1,class:"text-wrapper",style:v({...e(g),justifyContent:e(g).justifyContent})},[t("div",{class:"text-content",style:v({padding:`${e(g).padding}px 0px`}),innerHTML:e(y).textMessage},null,12,Ce)],4))],4)):_("",!0)],64))],2)],4)}}}),Ie=Object.assign(L(Me,[["__scopeId","data-v-14f737a5"]]),{__name:"UITheScreenOut"}),Le={},Se={class:"header"},qe={class:"nav-container"},we={class:"left-section"};function We(b,s){const o=Y;return n(),a("header",Se,[t("nav",qe,[t("div",we,[s[7]||(s[7]=t("img",{src:O,alt:"Logo",class:"logo-img"},null,-1)),s[8]||(s[8]=t("span",{class:"logo-text"},"전광판 표출 시스템",-1)),x(o,{to:"/",class:"nav-link",title:"표출관리"},{default:T(()=>s[0]||(s[0]=[t("i",{class:"fas fa-tv"},null,-1),t("span",{class:"nav-text"},"표출관리",-1)])),_:1}),x(o,{to:"/customEdit",class:"nav-link",title:"문안생성"},{default:T(()=>s[1]||(s[1]=[t("i",{class:"fas fa-edit"},null,-1),t("span",{class:"nav-text"},"문안생성",-1)])),_:1}),x(o,{to:"/systemControl",class:"nav-link",title:"시스템관리"},{default:T(()=>s[2]||(s[2]=[t("i",{class:"fas fa-cogs"},null,-1),t("span",{class:"nav-text"},"시스템관리",-1)])),_:1}),x(o,{to:"/help",class:"nav-link",title:"도움말"},{default:T(()=>s[3]||(s[3]=[t("i",{class:"fas fa-question-circle"},null,-1),t("span",{class:"nav-text"},"도움말",-1)])),_:1}),x(o,{to:"/test",class:"nav-link",title:"테스트"},{default:T(()=>s[4]||(s[4]=[t("i",{class:"fas fa-cog"},null,-1),t("span",{class:"nav-text"},"테스트",-1)])),_:1}),x(o,{to:"/test2",class:"nav-link",title:"테스트2"},{default:T(()=>s[5]||(s[5]=[t("i",{class:"fas fa-cog"},null,-1),t("span",{class:"nav-text"},"테스트2",-1)])),_:1}),x(o,{to:"/test3",class:"nav-link",title:"테스트3"},{default:T(()=>s[6]||(s[6]=[t("i",{class:"fas fa-cog"},null,-1),t("span",{class:"nav-text"},"테스트3",-1)])),_:1})])])])}const He=Object.assign(L(Le,[["render",We],["__scopeId","data-v-2abd4b1a"]]),{__name:"UITheHeader"}),Ee=()=>Z("color-mode").value,Oe={class:"footer"},Ue={class:"footer-container"},Be={class:"footer-content"},Fe=["title"],Ne=E({__name:"TheFooter",setup(b){const s=Ee(),o=h(!1);return j(()=>{o.value=s.value==="dark"}),(p,r)=>(n(),a("footer",Oe,[t("div",Ue,[t("div",Be,[r[1]||(r[1]=t("img",{src:O,alt:"Logo",class:"footer-logo"},null,-1)),r[2]||(r[2]=t("div",{class:"footer-text"},[t("p",{class:"copyright"},"© 2024 stcN. All rights reserved."),t("p",{class:"version"},"Version 1.0.0")],-1)),t("button",{class:"theme-toggle",title:e(s).value==="dark"?"라이트 모드로 전환":"다크 모드로 전환",onClick:r[0]||(r[0]=f=>e(s).preference=e(s).value==="dark"?"light":"dark")},[t("i",{class:R(e(s).value==="dark"?"fas fa-sun":"fas fa-moon")},null,2)],8,Fe)])])]))}}),Ve=Object.assign(L(Ne,[["__scopeId","data-v-befe4121"]]),{__name:"UITheFooter"}),je={},Pe={class:"layout"},Ae={class:"content-display-area"},ze={class:"control-area"},De={class:"main-content"};function Re(b,s){const o=Ie,p=He,r=Ve;return n(),a("div",Pe,[t("div",Ae,[x(o)]),t("div",ze,[x(p),t("div",De,[V(b.$slots,"default",{},void 0,!0)]),x(r)])])}const Ke=L(je,[["render",Re],["__scopeId","data-v-6f67de38"]]);export{Ke as default};
